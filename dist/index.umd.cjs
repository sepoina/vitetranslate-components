(function(o,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],e):(o=typeof globalThis<"u"?globalThis:o||self,e(o["@sepoina/vitetranslate-components"]={},o.React))})(this,function(o,e){"use strict";const f=e.createContext(null),d={langID:null};function p({predefined:n,children:s}){const[t,r]=e.useState(n),[u,i]=e.useState(null),l=a=>{r(a)};return e.useEffect(()=>{if(!t||d.langID===t)return;d.langID=t,(async()=>{try{const m=await(await fetch(`./locale/${t}.json`)).json();i({id:t,table:m,setNewLanguage:l})}catch{console.log(`Errore nel file locale/${t}.json `),r(n);return}})().catch(console.error)},[t]),e.createElement(f.Provider,{value:u},s)}function h({"data-translate":n,t:s,c:t,a:r,children:u}){const i=e.useContext(f);return e.useMemo(()=>{var a;let l=t||s||u;if(!n){const c=l.match(/_<_(.*?)_\/_(.*?)_>_/);if(c)n=c[1],l=c[2];else throw"errore nel servizio di traduzione, manca translate"}return(a=i==null?void 0:i.table)!=null&&a[n]?e.createElement("span",{"data-from-translate":n},r?g(i.table[n],r):i.table[n]):e.createElement("span",{"data-not-translate":n},r?g(l,r):l)},[i,r])}function g(n,s){if(s===void 0)return n;const t=Array.isArray(s)?s:[s];let r=0;return n.replace(/%s/g,()=>t[r++])}o.Translate=h,o.TranslateContainer=p,o.TranslateContext=f,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.cjs.map
